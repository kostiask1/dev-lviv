{"version":3,"file":"static/js/376.d9208fa3.chunk.js","mappings":"uNAwDA,EAjDc,WACV,OAA0BA,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,EAAyCD,EAAjCE,MAAAA,OAAR,MAAgB,GAAhB,EAAoBC,EAAqBH,EAArBG,kBAEpBC,EAAAA,EAAAA,YAAU,WACNC,EAAAA,EAAAA,WAAgB,kBAAMJ,GAAS,kBAAMI,EAAAA,EAAAA,mBACtC,IA0BH,OARAD,EAAAA,EAAAA,YAAU,WACNH,EAASI,EAAAA,EAAAA,cACV,CAACA,EAAAA,KAEJD,EAAAA,EAAAA,YAAU,WACFD,GAAgD,IAA5BA,EAAiBG,QApBzCC,IAAAA,IAAA,2DAXIC,uCAWJ,0BAEiFL,IAE5EM,MAAK,SAACC,GACH,GAAwB,MAApBA,EAASC,OAAgB,CACzB,IAAMT,EAAQQ,EAASE,KAAKA,KAC5B,OAAOP,EAAAA,EAAAA,SAAe,CAClBQ,KAAMC,EAAAA,GACNC,QAAS,CAAEb,MAAOc,OAAOC,QAAQf,YAYlD,CAACC,KAGA,gBAAKe,UAAU,QAAf,UACI,wBACKhB,EAAMiB,KAAI,SAACC,GAAD,OACP,2BACI,4BAAOA,EAAK,GAAZ,SACA,4BACKA,EAAK,GAAGC,QAAQ,IACjB,iCAASlB,EAAT,YAJCiB,EAAK","sources":["pages/Rates/index.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\"\r\nimport \"./index.scss\"\r\nimport axios from \"axios\"\r\nimport store from \"../../app/store\"\r\nimport { GET_RATES } from \"../../app/types\"\r\nconst API = process.env.REACT_APP_API_KEY\r\n\r\nconst Rates = () => {\r\n    const [state, setState] = useState({})\r\n    const { rates = [], current_currency } = state\r\n\r\n    useEffect(() => {\r\n        store.subscribe(() => setState(() => store.getState()))\r\n    }, [])\r\n\r\n    const getRates = () => {\r\n        axios\r\n            .get(\r\n                `https://freecurrencyapi.net/api/v2/latest?apikey=${API}&base_currency=${current_currency}`\r\n            )\r\n            .then((response) => {\r\n                if (response.status === 200) {\r\n                    const rates = response.data.data\r\n                    return store.dispatch({\r\n                        type: GET_RATES,\r\n                        payload: { rates: Object.entries(rates) },\r\n                    })\r\n                }\r\n            })\r\n    }\r\n\r\n    useEffect(() => {\r\n        setState(store.getState())\r\n    }, [store])\r\n\r\n    useEffect(() => {\r\n        if (current_currency && current_currency.length === 3) getRates()\r\n    }, [current_currency])\r\n\r\n    return (\r\n        <div className=\"rates\">\r\n            <ul>\r\n                {rates.map((rate) => (\r\n                    <li key={rate[0]}>\r\n                        <span>{rate[0]} =</span>\r\n                        <span>\r\n                            {rate[1].toFixed(2)}\r\n                            <small>({current_currency})</small>\r\n                        </span>\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Rates\r\n"],"names":["useState","state","setState","rates","current_currency","useEffect","store","length","axios","process","then","response","status","data","type","GET_RATES","payload","Object","entries","className","map","rate","toFixed"],"sourceRoot":""}